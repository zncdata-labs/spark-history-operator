apiVersion: spark.zncdata.dev/v1alpha1
kind: SparkHistoryServer
metadata:
  name: sparkhistory
spec:
  clusterConfig:
    listenerClass: cluster-internal
    authentication:
      authenticationClass: oidc
      oidc:
        clientCredentialsSecret: oidc-credentials
    logFileDirectory:
      s3:
        prefix: events
        bucket:
          reference: spark-history
  node:
    config:
      resources:
        cpu:
          min: 100m
          max: 200m
        memory:
          limit: 512Mi
    roleGroups:
      default:
        replicas: 1
        config:
          resources:
            cpu:
              min: 300m
              max: 400m
            memory:
              limit: 612Mi
